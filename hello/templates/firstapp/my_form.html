{% extends 'firstapp/base.html' %}

{% block title %}Формы{% endblock title %}

{% block header %}Изучаем формы Django{% endblock header %}

{% block content %}
<!--    <div class="container-fluid text_start my-2 border border-3">-->
<!--        <h3>форма как таблица</h3>-->
<!--        <form method="post" novalidate>-->
<!--            {% csrf_token %}-->
<!--          <table class="col-2 text-start">-->
<!--            {{ form }}-->
<!--          </table>-->
<!--            <div class="col-md-4 text-start">-->
<!--            <input type="submit" value="Отправить">-->
<!--            </div>-->
<!--        </form>-->
<!--    </div>-->
<!--<style>-->
<!--    .myfield {border: 2px solid #ccc;-->
<!--              margin: 10px 10px 10px 0;-->
<!--              width: 200px;-->
<!--              height: 25px;-->
<!--              border-radius: 5px;}-->
<!--</style>-->
    <div class="container-fluid text_start my-2 border border-5 border-warning">
        <h5>Формы и модели данных</h5>
        <form method="POST">
            {% csrf_token %}
          <div class="form-group my-2">
              <div class="col-2 text-start">
              {% for field in form %}
                <div>{{ field.label_tag }}</div>
                <div>{{ field }}</div>
                  {% for error in field.errors %}
                <div class="text-danger">{{ field.errors }}</div>
                  {% endfor %}
              {% endfor %}
          </div>
              <div class="col text-start">
                <input type="submit" value="Отправить">
              </div>
              {% if people.count > 0 %}
              <h5>Список клиентов</h5>
              <table class="table table-striped table-bordered text-start">
                  <thead>
                    <tr>
                        <th>№</th>
                        <th>ФИО клиента</th>
                        <th>Возраст</th>
                        <th>Изменить/Удалить</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for person in people %}
                  <tr>
                      <td>{{ person.id }}</td>
                      <td>{{ person.name }}</td>
                      <td>{{ person.age }}</td>
                      <td>
                          <a href="edit_form/{{ person.id }}">Изменить</a>
                          <a href="delete/{{ person.id }}">Удалить</a>
                      </td>
                  </tr>
                  {% endfor %}
                  </tbody>
              </table>
              {% endif %}
          </div>
        </form>
    </div>
{% endblock content %}
